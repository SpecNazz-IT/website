<%- include('../partials/header') %>
<%- include('../partials/sidebar') %>

<main class="main-content">
    <h1><%- t('aiChatTitle', { ns: 'translation', defaultValue: 'AI Chat' }) %></h1>

    <div class="chat-controls">
        <div class="provider-select-container">
             <label for="provider-select"><%- t('selectProviderLabel', { ns: 'translation', defaultValue: 'Select Provider:' }) %></label>
             <select id="provider-select" name="aiProvider">
                 <option value="openai"><%- t('providerOpenAI', { ns: 'translation', defaultValue: 'OpenAI' }) %></option>
                 <option value="gemini" selected><%- t('providerGemini', { ns: 'translation', defaultValue: 'Gemini' }) %></option>
                 <option value="deepseek"><%- t('providerDeepSeek', { ns: 'translation', defaultValue: 'DeepSeek' }) %></option>
                 <option value="openrouter"><%- t('providerOpenRouter', { ns: 'translation', defaultValue: 'OpenRouter' }) %></option>
             </select>
        </div>
        <div class="submodel-select-container">
            <label for="sub-model-select"><%- t('selectSubModelLabel', { ns: 'translation', defaultValue: 'Specific Model:' }) %></label>
            <select id="sub-model-select" name="subModel">
                <!-- Options will be populated by JS, pre-fill default (Gemini) -->
                <option value="gemini-1.5-pro-latest">gemini-1.5-pro-latest</option>
                <option value="gemini-1.5-flash">gemini-1.5-flash</option>
                <!-- Add other Gemini models from user list if desired -->
                 <option value="gemini-1.0-pro">gemini-1.0-pro</option> <!-- Added based on previous code -->
            </select>
        </div>
        <div class="mock-toggle">
             <input type="checkbox" id="mock-api-checkbox">
             <label for="mock-api-checkbox"><%- t('useMockLabel', { ns: 'translation', defaultValue: 'Use Mock API' }) %></label>
        </div>
    </div>

    <div id="chat-container" class="chat-container">
        <div id="chat-messages" class="chat-messages">
            <!-- Chat messages will be dynamically added here -->
            <div class="message system-message"><%- t('aiChatWelcome', { ns: 'translation', defaultValue: 'Welcome! Ask me anything.' }) %></div>
        </div>
        <div id="chat-input-area" class="chat-input-area">
            <input type="text" id="chat-input" placeholder="<%- t('typeMessagePlaceholder', { ns: 'translation', defaultValue: 'Type your message here...' }) %>">
            <button id="send-button"><%- t('sendButton', { ns: 'translation', defaultValue: 'Send' }) %></button>
        </div>
    </div>

</main>

<%- include('../partials/footer') %>